@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
  /* User dropdown menu visibility */
  .user-dropdown-menu {
    display: none;
  }
  
  .user-dropdown-menu.show {
    display: block !important;
  }
}

@layer base {
  html {
    scroll-behavior: smooth;
    scrollbar-gutter: stable;
  }
  
  body {
    @apply antialiased;
    overflow-x: hidden;
  }
  
  /* 스크롤바 스타일링 */
  ::-webkit-scrollbar {
    width: 8px;
  }
  
  ::-webkit-scrollbar-track {
    background: #f1f5f9;
  }
  
  ::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 4px;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    background: #94a3b8;
  }
  
  /* 헤더 안정성을 위한 추가 스타일 */
  #masthead.hidden {
    /* JavaScript hidden 클래스를 무시하여 깜빡임 방지 */
    transform: none !important;
    opacity: 1 !important;
    visibility: visible !important;
  }
}

@layer components {
  .btn {
    @apply inline-flex items-center justify-center px-4 py-2 font-semibold rounded-lg transition-colors duration-200;
  }
  
  .btn-primary {
    @apply bg-lectus-primary text-white hover:bg-blue-700;
  }
  
  .btn-secondary {
    @apply bg-lectus-secondary text-white hover:bg-purple-700;
  }
  
  .btn-success {
    @apply bg-green-500 text-white hover:bg-green-600;
  }
  
  .btn-outline {
    @apply border-2 border-gray-300 text-gray-700 hover:bg-gray-50;
  }
  
  .card {
    @apply bg-white rounded-lg shadow-md overflow-hidden;
  }
  
  .card-header {
    @apply px-6 py-4 border-b border-gray-200;
  }
  
  .card-body {
    @apply p-6;
  }
  
  .form-input {
    @apply w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-lectus-primary focus:border-transparent;
  }
  
  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }
  
  .badge-success {
    @apply bg-green-100 text-green-800;
  }
  
  .badge-warning {
    @apply bg-yellow-100 text-yellow-800;
  }
  
  .badge-danger {
    @apply bg-red-100 text-red-800;
  }

  /* 레슨 페이지 전용 스타일 */
  .single-lesson-page {
    @apply mt-20 min-h-screen bg-gray-50;
  }

  .lesson-layout {
    @apply max-w-7xl mx-auto px-4 py-8 grid grid-cols-1 lg:grid-cols-4 gap-8;
  }

  .lesson-content {
    @apply lg:col-span-3 space-y-6;
  }

  .lesson-sidebar {
    @apply lg:col-span-1 space-y-6;
  }

  /* 브레드크럼 */
  .breadcrumb {
    @apply flex items-center space-x-2 text-sm text-gray-600 mb-6;
  }

  .breadcrumb a {
    @apply hover:text-lectus-primary transition-colors;
  }

  .breadcrumb .current {
    @apply text-gray-900 font-medium;
  }

  /* 레슨 제목 */
  .lesson-title {
    @apply text-3xl font-bold text-gray-900 mb-4;
  }

  /* 레슨 메타 정보 */
  .lesson-meta {
    @apply flex items-center gap-6 text-sm text-gray-600 mb-6 p-4 bg-white rounded-lg border;
  }

  .lesson-type, .lesson-duration {
    @apply flex items-center gap-2;
  }

  /* 비디오 플레이어 */
  .lesson-video {
    @apply mb-8 bg-black rounded-lg overflow-hidden;
  }

  .lesson-video iframe {
    @apply w-full aspect-video;
  }

  .lesson-video video {
    @apply w-full h-auto;
  }

  /* 레슨 콘텐츠 */
  .lesson-text-content {
    @apply bg-white rounded-lg p-6 shadow-sm border;
  }

  .lesson-text-content h1, .lesson-text-content h2, .lesson-text-content h3 {
    @apply font-bold text-gray-900 mb-4;
  }

  .lesson-text-content h1 {
    @apply text-2xl;
  }

  .lesson-text-content h2 {
    @apply text-xl;
  }

  .lesson-text-content h3 {
    @apply text-lg;
  }

  .lesson-text-content p {
    @apply mb-4 text-gray-700 leading-relaxed;
  }

  .lesson-text-content ul, .lesson-text-content ol {
    @apply mb-4 pl-6;
  }

  .lesson-text-content li {
    @apply mb-2 text-gray-700;
  }

  .lesson-text-content a {
    @apply text-lectus-primary hover:text-blue-700 underline;
  }

  /* 강의자료 */
  .lesson-materials {
    @apply bg-white rounded-lg p-6 shadow-sm border;
  }

  .lesson-materials h3 {
    @apply text-lg font-semibold text-gray-900 mb-4;
  }

  .materials-list {
    @apply space-y-3;
  }

  .materials-list li {
    @apply flex items-start gap-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors;
  }

  .materials-list a {
    @apply flex items-center gap-2 text-lectus-primary hover:text-blue-700 font-medium;
  }

  .materials-list small {
    @apply block text-gray-500 text-xs mt-1;
  }

  /* 레슨 내비게이션 */
  .lesson-navigation {
    @apply bg-white rounded-lg p-6 shadow-sm border;
  }

  .lesson-nav-buttons {
    @apply flex items-center justify-between gap-4 flex-wrap;
  }

  /* Q&A 섹션 */
  .qa-section {
    @apply bg-white rounded-lg p-6 shadow-sm border;
  }

  .qa-section h3 {
    @apply text-lg font-semibold text-gray-900 mb-6;
  }

  .qa-form {
    @apply mb-6 p-4 bg-gray-50 rounded-lg;
  }

  .qa-form textarea {
    @apply w-full p-3 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-lectus-primary focus:border-transparent;
    min-height: 100px;
  }

  .qa-form button {
    @apply mt-3 btn btn-primary;
  }

  .qa-list {
    @apply space-y-4;
  }

  /* 사이드바 카드들 */
  .course-info-card, .lesson-list-card, .certificate-card {
    @apply bg-white rounded-lg p-6 shadow-sm border;
  }

  .course-info-card h4, .lesson-list-card h4, .certificate-card h4 {
    @apply text-lg font-semibold text-gray-900 mb-4;
  }

  /* 진도 바 */
  .course-progress {
    @apply mb-4;
  }

  .progress-info {
    @apply flex justify-between items-center mb-2 text-sm;
  }

  .progress-bar-container {
    @apply w-full bg-gray-200 rounded-full h-2;
  }

  .progress-bar {
    @apply bg-lectus-primary h-2 rounded-full transition-all duration-300;
  }

  /* 레슨 목록 */
  .lesson-list {
    @apply space-y-2;
  }

  .lesson-list-item {
    @apply border border-gray-200 rounded-lg overflow-hidden;
  }

  .lesson-list-item a {
    @apply flex items-center gap-3 p-3 text-gray-700 hover:bg-gray-50 transition-colors;
  }

  .lesson-list-item.current a {
    @apply bg-blue-50 border-lectus-primary text-lectus-primary;
  }

  .lesson-list-item.completed a {
    @apply text-green-600;
  }

  .lesson-number {
    @apply flex-shrink-0 w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-sm font-medium;
  }

  .lesson-list-item.current .lesson-number {
    @apply bg-lectus-primary text-white;
  }

  .lesson-list-item.completed .lesson-number {
    @apply bg-green-500 text-white;
  }

  .lesson-title {
    @apply flex-1 font-medium;
  }

  /* 수료증 카드 */
  .certificate-card {
    @apply bg-gradient-to-br from-green-50 to-blue-50 border-green-200;
  }

  .certificate-card h4 {
    @apply text-green-700;
  }

  .certificate-card p {
    @apply text-green-600 mb-4;
  }

  .btn-block {
    @apply w-full justify-center;
  }

  /* 알림 스타일 */
  .alert {
    @apply p-4 rounded-lg border;
  }

  .alert-warning {
    @apply bg-yellow-50 border-yellow-200 text-yellow-800;
  }

  /* 반응형 조정 */
  @media (max-width: 1023px) {
    .lesson-layout {
      @apply grid-cols-1;
    }
    
    .lesson-sidebar {
      @apply order-first;
    }
    
    .lesson-nav-buttons {
      @apply flex-col;
    }
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}